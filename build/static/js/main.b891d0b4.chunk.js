(this["webpackJsonptest-2021"]=this["webpackJsonptest-2021"]||[]).push([[0],{31:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(10),a=n.n(r),c=n(20),o=n(2),i=n.n(o),s=n(21),l=n.n(s),u=n(8),d=n(11),j=n(7),f=n.n(j),m=n.p+"static/media/Unknownerror.fd125fbd.png",h=n.p+"static/media/NetworkError.df4aaa1f.png",b=n(0),g=function(e){var t=e.response.data,n=Object(o.useState)("all"),r=Object(u.a)(n,2),a=r[0],c=r[1],i=Object(o.useState)("all"),s=Object(u.a)(i,2),l=s[0],j=s[1],g=Object(o.useState)(t),p=Object(u.a)(g,2),O=p[0],x=p[1];Object(o.useEffect)((function(){c(localStorage.getItem("city")),j(localStorage.getItem("month")),x(JSON.parse(localStorage.getItem("newCollectionData")))}),[]),Object(o.useEffect)((function(){localStorage.setItem("city",a),localStorage.setItem("month",l),localStorage.setItem("newCollectionData",JSON.stringify(O))}),[a,l,O]);if(e.response.hasOwnProperty("nameEror"))return function(e){var t="networkError"===e.nameEror?h:m,n="networkError"===e.nameEror?"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c":"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430";return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{style:{"text-align":"center"},children:n}),Object(b.jsx)("img",{src:t,alt:e.nameEror,style:{width:"1000px",height:"auto",display:"block","margin-left":"auto","margin-right":"auto"}})]})}(e.response);var v=function(e){var t=e.map((function(e){return e.city})).sort(),n=["all"].concat(Object(d.a)(Array.from(new Set(t)))),r=e.map((function(e){return e.date.slice(3,5)}));return{arrCity:n,arrMonyh:["all"].concat(Object(d.a)(Array.from(new Set(r)).sort((function(e,t){return e-t}))))}}(O),w=v.arrCity.map((function(e){return Object(b.jsx)("option",{value:e,children:e},f.a.uniqueId())})),y=v.arrMonyh.map((function(e){var t=new Date("2021/".concat(e,"/01")).toLocaleString("en",{month:"long"});return Object(b.jsx)("option",{value:e,children:"all"===e?e:t},f.a.uniqueId())}));return Object(b.jsx)("div",{className:"contener",children:Object(b.jsxs)("div",{className:"contener-content",children:[Object(b.jsx)("div",{className:"name-list",children:Object(b.jsx)("h3",{children:"Event Listing"})}),Object(b.jsx)("div",{className:"form-grup",children:Object(b.jsxs)("form",{className:"form",children:[Object(b.jsxs)("div",{className:"form-city",children:[Object(b.jsx)("label",{children:"City :  "}),Object(b.jsx)("select",{className:"city",onChange:function(e){return c(e.target.value)},multiple:!1,value:a,children:Object(b.jsx)(b.Fragment,{children:w})})]}),Object(b.jsxs)("div",{className:"form-month",children:[Object(b.jsx)("label",{children:"Month :  "}),Object(b.jsx)("select",{className:"date",onChange:function(e){return j(e.target.value)},multiple:!1,value:l,children:Object(b.jsx)(b.Fragment,{children:y})})]})]})}),Object(b.jsx)("div",{className:"flex-container",children:Object(b.jsx)(b.Fragment,{children:function(){var e="all"===a?O:O.filter((function(e){return e.city===a})),t="all"===l?e:e.filter((function(e){return e.date.slice(3,5)===l}));return t.sort((function(e,t){return e.date>t.date?1:-1})),t.sort((function(e,t){return e.featured&&!t.featured})),t.map((function(e){var t=e.id;e.hasOwnProperty("featured")&&!0===e.featured?e.featured=!1:e.featured=!0;var n={backgroundColor:!0===e.featured?"black":"#fff"};return Object(b.jsxs)("div",{className:"ss",children:[Object(b.jsx)("img",{src:e.image,alt:e.genre,width:"600",height:"400"}),Object(b.jsx)("p",{children:String(e.date).slice(0,2)}),Object(b.jsx)("h4",{children:e.name}),Object(b.jsx)("button",{type:"button",value:"",style:n,src:"https://www.pngwing.com/ru/free-png-pinvw",onClick:function(){return x(O.map((function(e){return e.id===t&&(e.featured=!1===e.featured),e})))}})]},f.a.uniqueId())}))}()})})]})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},O=(n(31),n(22)),x=n.n(O),v=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){return l.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(g,{response:e})}),document.getElementById("root"))},e.prev=1,e.next=4,x.a.get("https://raw.githubusercontent.com/xsolla/xsolla-frontend-school-2021/main/events.json");case 4:if(void 0!==(n=e.sent)){e.next=7;break}return e.abrupt("return",t({nameEror:"networkError"}));case 7:return e.abrupt("return",t(n));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",t({nameEror:"unknownError"}));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();v(),p()}},[[50,1,2]]]);
//# sourceMappingURL=main.b891d0b4.chunk.js.map